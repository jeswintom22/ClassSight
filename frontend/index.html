<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClassSight | AI Classroom Assistant</title>
    <link rel="stylesheet" href="style.css?v=2.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar: Session History -->
        <aside class="sidebar glass-panel">
            <div class="sidebar-header">
                <h3>üïí History</h3>
                <button id="clear-history-btn" class="icon-btn" title="Clear History">üóëÔ∏è</button>
            </div>
            <div class="history-list" id="history-list">
                <!-- History items will be injected here -->
                <div class="empty-state">No history yet</div>
            </div>
            <div class="sidebar-footer">
                <button id="download-report-btn" class="secondary-btn">
                    üì• Export Report
                </button>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Header -->
            <header class="glass-header">
                <div class="logo">
                    <span class="logo-icon">üëÅÔ∏è</span>
                    <h1>ClassSight</h1>
                </div>

                <div class="controls-area">
                    <!-- Test Button (Moved here for visibility) -->
                    <button id="mock-mode-btn" class="secondary-btn"
                        style="padding: 0.4rem 0.8rem; font-size: 0.8rem; margin-right: 1rem;">
                        üß™ Test Mock
                    </button>

                    <!-- Auto Capture Toggle -->
                    <div class="auto-capture-control">
                        <label class="switch">
                            <input type="checkbox" id="auto-capture-toggle">
                            <span class="slider round"></span>
                        </label>
                        <span class="control-label">Auto-Capture</span>
                        <select id="capture-interval" class="interval-select">
                            <option value="3000">3s</option>
                            <option value="5000" selected>5s</option>
                            <option value="10000">10s</option>
                        </select>
                    </div>

                    <div class="status-badge" id="status-badge">
                        <span class="status-dot"></span>
                        <span id="status-text">Ready</span>
                    </div>
                </div>
            </header>

            <!-- Content Grid -->
            <div class="content-grid">
                <!-- Left Panel: Video Stream -->
                <section class="video-panel glass-panel">
                    <div class="panel-header">
                        <h2>Live Feed</h2>
                        <div class="video-controls">
                            <button id="analyze-btn" class="action-btn">
                                <span class="btn-icon">‚ö°</span> Capture
                            </button>
                        </div>
                    </div>

                    <div class="video-container">
                        <video id="video-feed" autoplay playsinline muted></video>
                        <canvas id="capture-canvas" style="display: none;"></canvas>

                        <!-- Real-time overlay -->
                        <div class="overlay">
                            <div class="recording-indicator" id="live-indicator">
                                <span class="red-dot"></span> LIVE
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Right Panel: Knowledge Board -->
                <section class="knowledge-panel">
                    <!-- Top Half: OCR Text -->
                    <div class="ocr-section glass-panel">
                        <div class="panel-header">
                            <h2>üìù Board Text</h2>
                            <span class="confidence-badge" id="confidence-badge" style="display: none;">98% Match</span>
                        </div>
                        <div class="content-scrollable" id="ocr-content">
                            <div class="placeholder-text">
                                Waiting for content...
                                <br><small>Press SPACE to capture</small>
                            </div>
                        </div>
                    </div>

                    <!-- Bottom Half: AI Explanation -->
                    <div class="ai-section glass-panel">
                        <div class="panel-header">
                            <h2>ü§ñ AI Teacher</h2>
                            <span class="ai-model-badge" id="ai-model-badge">Gemini Flash</span>
                        </div>
                        <div class="content-scrollable" id="ai-content">
                            <div class="placeholder-text">
                                AI insights will appear here...
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <script src="app.js?v=2.0"></script>
</body>

</html>